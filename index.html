<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cyclocross UCI | MEDDOUR Noa</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header id="header">
  <h1>Cyclocross UCI</h1>
  <p>Site personnel de MEDDOUR Noa d√©di√© au cyclocross UCI, comp√©titions et coureurs mondiaux.</p>
</header>

<nav>
  <a href="#presentation">Pr√©sentation</a>
  <a href="#calendrier">Calendrier</a>
  <a href="#classements">Classements</a>
  <a href="#coureurs">Coureurs</a>
  <a href="#actus">Actualit√©s</a>
  <a href="#contact">Contact</a>
  <button id="toggleTheme">üåô</button>
</nav>

<main>
  <section id="presentation">
    <h2>Qu‚Äôest-ce que le cyclocross UCI ?</h2>
    <p>Discipline du cyclisme en automne et hiver sur circuits courts, techniques et exigeants.</p>
  </section>

  <section id="calendrier">
    <h2>Calendrier des comp√©titions</h2>
    <div class="grid">
      <div class="card"><h3>Coupe du Monde UCI</h3></div>
      <div class="card"><h3>Championnats d‚ÄôEurope</h3></div>
      <div class="card"><h3>Championnats du Monde</h3></div>
    </div>
  </section>

  <section id="classements">
    <h2>Classements UCI</h2>
    <table>
      <thead><tr><th>Position</th><th>Coureur</th><th>Nation</th><th>Cat√©gorie</th></tr></thead>
      <tbody id="uci-rankings"><tr><td colspan="4">Chargement‚Ä¶</td></tr></tbody>
    </table>
  </section>

  <section id="coureurs">
    <h2>Coureurs embl√©matiques</h2>
    <div class="grid">
      <div class="card"><h3>Wout van Aert</h3></div>
      <div class="card"><h3>Mathieu van der Poel</h3></div>
      <div class="card"><h3>Fem van Empel</h3></div>
    </div>
  </section>

  <section id="actus">
    <h2>Actualit√©s du cyclocross</h2>
    <div id="news" class="grid"><p>Chargement des actualit√©s‚Ä¶</p></div>
  </section>

  <section id="contact">
    <h2>Contact</h2>
    <form action="https://formspree.io/f/mqezwypg" method="POST">
      <label>Nom<br><input type="text" name="name" required></label>
      <label>Email<br><input type="email" name="email" required></label>
      <label>Message<br><textarea name="message" rows="5" required></textarea></label>
      <button type="submit">Envoyer</button>
    </form>
    <p><strong>Nombre de vues :</strong> <span id="views">Chargement...</span></p>
  </section>
</main>

<footer>
  <p>¬© 2025 ‚Äì Cyclocross UCI | MEDDOUR Noa</p>
</footer>

<script src="js/main.js"></script>
</body>
</html>
:root { --uci-red:#e10600; --dark:#111; --light:#f5f5f5; }
body { margin:0; font-family:Arial,sans-serif; background:var(--light); color:#222; line-height:1.6; transition: background 0.5s, color 0.5s; }
header { background-size:cover; background-position:center; color:white; padding:5rem 2rem; text-align:center; transition: background-image 1s; }
nav { position:sticky; top:0; background:var(--uci-red); display:flex; justify-content:center; gap:2rem; padding:1rem; }
nav a { color:white; text-decoration:none; font-weight:bold; }
nav a:hover { text-decoration:underline; }
main { max-width:1200px; margin:auto; padding:3rem 2rem; }
section { margin-bottom:4rem; background:white; padding:2.5rem; border-radius:14px; box-shadow:0 10px 25px rgba(0,0,0,0.1); }
h2 { color:var(--uci-red); margin-top:0; }
.grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:2rem; }
.card { background:#fafafa; padding:2rem; border-radius:12px; border-top:6px solid var(--uci-red); }
table { width:100%; border-collapse:collapse; }
table th, table td { padding:1rem; border-bottom:1px solid #ddd; }
table th { background:#f0f0f0; }
footer { background:var(--dark); color:white; text-align:center; padding:2rem 1rem; }
body.dark { background:#0f0f0f; color:#eaeaea; }
body.dark section { background:#1a1a1a; }
body.dark nav { background:#8b0000; }
body.dark .card { background:#222; }
// Dark Mode
const btn = document.getElementById('toggleTheme');
if(btn){
  btn.onclick = () => {
    document.body.classList.toggle('dark');
    localStorage.setItem('theme', document.body.classList.contains('dark')?'dark':'light');
  };
  if(localStorage.getItem('theme')==='dark') document.body.classList.add('dark');
}

// Header background rotation
const backgrounds = ['assets/images/bg1.jpg','assets/images/bg2.jpg','assets/images/bg3.jpg'];
let bgIndex=0;
setInterval(()=> {
  bgIndex=(bgIndex+1)%backgrounds.length;
  document.getElementById('header').style.backgroundImage=`url(${backgrounds[bgIndex]})`;
},15000);

// Views counter (Cloudflare Worker)
(function(){
  const el=document.getElementById('views');
  if(!el) return;
  fetch("https://TON_WORKER_URL_CLOUDFLARE/hit")
    .then(r=>r.json())
    .then(d=>{ el.textContent=d.value; })
    .catch(()=>{ el.textContent="indisponible"; });
})();

// Cyclocross news RSS
(function(){
  const cacheKey='rssCache', cacheTime=300000;
  const proxy='https://api.allorigins.win/get?url=';
  const rss='https://www.cyclocross24.com/rss/news/';

  function fetchNews(){
    fetch(proxy+encodeURIComponent(rss))
      .then(r=>r.json())
      .then(d=>{
        try{
          const xml=new DOMParser().parseFromString(d.contents,'text/xml');
          const items=Array.from(xml.querySelectorAll('item')).slice(0,6).map(i=>({
            title:i.querySelector('title')?.textContent||'',
            link:i.querySelector('link')?.textContent||'',
            description:i.querySelector('description')?.textContent||''
          }));
          const c=document.getElementById('news');
          c.innerHTML='';
          items.forEach(i=>{
            const div=document.createElement('div');
            div.className='card';
            div.innerHTML=`<h3>${i.title}</h3><p>${i.description.substring(0,120)}...</p><a href="${i.link}" target="_blank">Lire</a>`;
            c.appendChild(div);
          });
        }catch(e){ document.getElementById('news').innerHTML='<p>Impossible de charger les actualit√©s.</p>'; }
      }).catch(()=>{ document.getElementById('news').innerHTML='<p>Impossible de charger les actualit√©s.</p>'; });
  }
  fetchNews();
  setInterval(fetchNews,cacheTime);
})();

// Classements UCI (exemple statique)
(function(){
  const data=[
    {pos:1,name:"Mathieu van der Poel",nation:"Pays-Bas",cat:"Homme"},
    {pos:2,name:"Wout van Aert",nation:"Belgique",cat:"Homme"},
    {pos:3,name:"Tom Pidcock",nation:"Royaume-Uni",cat:"Homme"},
    {pos:1,name:"Fem van Empel",nation:"Pays-Bas",cat:"Femme"},
    {pos:2,name:"Lucinda Brand",nation:"Pays-Bas",cat:"Femme"},
    {pos:3,name:"Ceylin del Carmen Alvarado",nation:"Pays-Bas",cat:"Femme"},
  ];
  const tbody=document.getElementById('uci-rankings');
  tbody.innerHTML='';
  data.forEach(d=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${d.pos}</td><td>${d.name}</td><td>${d.nation}</td><td>${d.cat}</td>`;
    tbody.appendChild(tr);
  });
})();

















